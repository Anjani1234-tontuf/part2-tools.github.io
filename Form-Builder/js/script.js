function autocomplete(a,b){function d(a){return a?(e(a),c>=a.length&&(c=0),c<0&&(c=a.length-1),void a[c].classList.add("autocomplete-active")):!1}function e(a){for(var b=0;b<a.length;b++)a[b].classList.remove("autocomplete-active")}function f(b){for(var c=document.getElementsByClassName("autocomplete-items"),d=0;d<c.length;d++)b!=c[d]&&b!=a&&c[d].parentNode.removeChild(c[d])}var c;a.addEventListener("input",function(){var e,g,h,i=this.value;if(f(),!i)return!1;for(c=-1,e=document.createElement("DIV"),e.setAttribute("id",this.id+"autocomplete-list"),e.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(e),h=0;h<b.length;h++)b[h].substr(0,i.length).toUpperCase()==i.toUpperCase()&&(g=document.createElement("DIV"),g.innerHTML="<strong>"+b[h].substr(0,i.length)+"</strong>",g.innerHTML+=b[h].substr(i.length),g.innerHTML+="<input type='hidden' value='"+b[h]+"'>",g.addEventListener("click",function(){a.value=this.getElementsByTagName("input")[0].value,f()}),e.appendChild(g))}),a.addEventListener("keydown",function(a){var b=document.getElementById(this.id+"autocomplete-list");b&&(b=b.getElementsByTagName("div")),40==a.keyCode?(c++,d(b)):38==a.keyCode?(c--,d(b)):13==a.keyCode&&(a.preventDefault(),c>-1&&b&&b[c].click())}),document.addEventListener("click",function(a){f(a.target)})}var fields=["phone","amount","age","name","text","username","password","email","number","date","color","submit","reset","image","file","button","save","login","register","send"],form=[];autocomplete(document.getElementById("myInput"),fields),$(".add-more").on("click",function(){event.preventDefault();var a=$("#myInput").val();if(fields.indexOf(a)>=0){var b=fields.indexOf(a);!b>=0?fields.splice(b,1):fields.splice(b,b),$(".selected-items-list").append("<li>"+a+'<span class="close">\xd7</span></li>'),form.push(a);var d,a=$("#myInput").val(""),c=$(".close");for(d=0;d<c.length;d++)c[d].onclick=function(){var a=this.parentElement,b=a.innerHTML.split("<span "),c=form.indexOf(b[0]);!c>=0?form.splice(c,1):form.splice(c,c),a.remove()}}else alert(a+" is not available in fields list")}),$(".create-new").on("click",function(){"none"==$(".new-form").css("display")&&$(".new-form").css({display:"block",height:"100%",width:"100%"})}),$(".create-new").on("mouseleave",function(){"block"==$(".new-form").css("display")&&$(".new-form").css({display:"none",height:"0",width:"0"})}),$(".new-option-submit").on("click",function(){event.preventDefault();var a=$(".new-option").val();fields.push(a),alert(a+" added to the fields list successfuly!"),$(".new-option").val("")}),$(".proccess-form").on("click",function(){if(form.length>0){var a,c='<h2 class="header">Your Custom Form is Ready</h2> <br>',d="<form>";for(a=0;a<form.length;a++)d+="password"==form[a]||"reset"==form[a]||"email"==form[a]||"number"==form[a]||"date"==form[a]||"color"==form[a]||"image"==form[a]||"file"==form[a]?'<input class="blog-desire-input" type="'+form[a]+'" autocomplete="off" placeholder="Input '+form[a]+'"> <br>':"phone"==form[a]||"amount"==form[a]||"age"==form[a]?'<input class="blog-desire-input" type="number" autocomplete="off" placeholder="Input Number"> <br>':"save"==form[a]||"login"==form[a]||"register"==form[a]||"send"==form[a]||"submit"==form[a]?'<input class="blog-desire-input" type="submit" autocomplete="off" Value="'+form[a]+'"> <br>':'<input class="blog-desire-input" type="text" autocomplete="off" placeholder="Input '+form[a]+'"> <br>';d+="</form> <br>";var e="<small> Your Form Has Been Downloaded. Please check</small>",f='<br><button><a href="index.html">Try Again</a></button>';$("#wrapper").html(c+d+e+f);var g='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><link rel="stylesheet" href="file:///F:/Practice%20Field/Project/Form%20Builder/css/style.css"><script src="https://kit.fontawesome.com/54731ad5ae.js"></script><title>A Form Builder By Blog Desire | www.blogdesire.com </title></head><body><div id="wrapper"><h2 class="header">Your Custom Form is Ready <br> <small>This form was generated by www.blogdesire.com</small></h2><br>',h='</div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="js/script.js"></script></body></html>',i=g+d+h,j=new Blob([i],{type:"text/plain"}),k=window.URL.createObjectURL(j),l="www.blogdesire.com.html",m=document.createElement("a");m.download=l,m.innerHTML="Download File",m.href=k,m.style.display="none",document.body.appendChild(m),m.click()}else alert("Please select atleast one Item to create a form")});
